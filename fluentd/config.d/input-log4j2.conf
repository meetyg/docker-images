<source>
    @type tail
    format /^\^\|(?<time>.*)\|(?<level>.*)\|(?<thread>.*)\|(?<logger>.*)\|\r?\n(?<msg>[\s\S]*?)(?:Exception stack trace:(?<ex>[\s\S]*)?)?\r?\n\$\r?\n$/
    read_from_head true
    tag log4j.*
    path "/mnt/log/app/*_#LAST.logmx"
    pos_file /mnt/log/td-agent/tmp/log4j2.applog.pos
</source>
